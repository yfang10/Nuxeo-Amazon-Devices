(function(e){function t(t){for(var a,o,n=t[0],c=t[1],l=t[2],h=0,d=[];h<n.length;h++)o=n[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,n=1;n<s.length;n++){var c=s[n];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/nuxeo/catalog/";var n=this["webpackJsonp"]=this["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1:function(e,t){},"2c19":function(e,t,s){"use strict";var a=s("dfa8"),r=s.n(a);r.a},"2e37":function(e,t,s){"use strict";var a=s("e87a"),r=s.n(a);r.a},"4f37":function(e,t,s){"use strict";var a=s("de57"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("header",{staticClass:"app-header"},[a("div",{staticClass:"app-header-container"},[a("div",{staticClass:"app-header-logo"},[a("router-link",{staticClass:"app-header-logo-link",attrs:{to:"/"}},[a("img",{staticClass:"app-header-logo-img",attrs:{src:"logo.png"}})])],1),a("nav",{staticClass:"app-header-nav"},[a("router-link",{staticClass:"app-header-link",attrs:{to:"/"}},[a("i",{staticClass:"zmdi zmdi-home"}),e._v(" "+e._s(e.$t("message.app-home"))+" ")]),a("router-link",{staticClass:"app-header-link",class:{"router-link-exact-active":"/collections"===e.$route.path},attrs:{to:"/collections"}},[a("img",{staticClass:"zmdi",attrs:{src:s("59b1"),alt:"",srcset:""}}),e._v(" "+e._s(e.$t("message.app-collection"))+" ")]),a("router-link",{staticClass:"app-header-link",class:{"router-link-exact-active":"/search"===e.$route.path},attrs:{to:"/search"}},[a("i",{staticClass:"zmdi zmdi-search"}),e._v(" "+e._s(e.$t("message.app-search"))+" ")]),e.isGuest?e._e():a("a",{staticClass:"app-header-link",on:{click:function(t){return e.logout()}}},[a("i",{staticClass:"zmdi zmdi-account"}),e._v(" "+e._s(e.$t("message.app-logout"))+" ")])],1),a("nav",{staticClass:"app-header-cart-nav"},[a("router-link",{staticClass:"cart-btn btn-primary",attrs:{to:"/cart"}},[a("i",{staticClass:"zmdi zmdi-shopping-cart"}),a("span",{},[e._v(e._s(e.$t("message.cart-title")))]),e.cartSize>0?a("b-badge",[e._v(e._s(e.cartSize))]):e._e()],1)],1)])]),a("router-view",{key:e.$route.fullPath}),a("footer",{staticClass:"app-footer"},[a("div",{staticClass:"container d-flex align-items-center justify-content-between"},[a("p",[e._v(" "+e._s(e.$t("message.app-copyright"))+" ")]),a("img",{staticClass:"app-footer-logo",attrs:{src:"logo-white.png"}})])])],1)},i=[],o={CART_ID_LABEL:"cartId",CART_NOT_FOUND:"cartNotFound",TOASTED_DEFAULT_OPTIONS:{duration:2e3,position:"bottom-right"},TOASTED_PERSIST_OPTIONS:{position:"bottom-right"}},n={data:function(){return{isGuest:null}},computed:{cartSize:function(){return this.$store.state.cartSize}},created:function(){var e=this.$localStorage.get(o.CART_ID_LABEL,o.CART_NOT_FOUND);e===o.CART_NOT_FOUND&&(e=this.$uuid.v4(),this.$localStorage.set(o.CART_ID_LABEL,e)),this.$store.commit("setCartId",e),this.$store.dispatch("updateCart"),this.testGuest()},methods:{login:function(){var e="/nuxeo/logout?nxtimeout=true&forceAnonymousLogin=true&requestedUrl=catalog";window.location=e},logout:function(){var e="/nuxeo/logout?nxtimeout=true&forceAnonymousLogin=false&requestedUrl=catalog";window.location=e},testGuest:function(){this.$nuxeo.operation("login").execute().then(function(e){"Guest"===e.username?this.isGuest=!0:this.isGuest=!1}.bind(this)).catch((function(e){throw e}))}}},c=n,l=(s("5c0b"),s("2877")),u=Object(l["a"])(c,r,i,!1,null,null,null),h=u.exports,d=s("8c4f"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"main-content home-page"},[s("section",{staticClass:"banner"},[e.bannerImg?s("img",{staticClass:"banner-img",attrs:{src:e.bannerImg,alt:"",srcset:""},on:{click:e.toLaunchCollections}}):e._e(),s("div",{staticClass:"titlebox"},[this.splashList.length?s("span",{staticStyle:{"font-size":"80px","font-weight":"bold","font-family":"TradeGothicLT",color:"White"}},[e._v(" "+e._s(this.splashList[0].properties["splashconfig:optionalTitle"])+" ")]):e._e()])]),e.collectionsList.length?s("b-container",{staticClass:"launch-collection"},[s("section",{staticClass:"section"},[s("h2",[e._v("Launch Collections")]),s("div",{staticClass:"collections-list"},e._l(e.collectionsList,(function(t,a){return s("div",{key:a,staticClass:"wrap"},[s("div",{ref:"listPB",refInFor:!0,staticClass:"list"},[s("div",{staticClass:"collections-title",on:{mouseover:function(t){e.hoverIndex=a},mouseout:function(t){e.hoverIndex=-1}}},[e._v(" "+e._s(t.title)+" ")]),e.hoverIndex===a?s("div",{staticClass:"collections-title-hover"},[e._v(" "+e._s(t.title)+" ")]):e._e(),s("router-link",{attrs:{to:{path:"/collections",query:{uid:t.properties["launchcollection:collection"].uid}}}},[s("img",{attrs:{src:e.bannerPic(t),alt:"",srcset:""}})])],1)])})),0)])]):e._e(),e.brandLinkList.length?s("b-container",{staticClass:"launch-collection"},[s("section",{staticClass:"section"},[s("h2",[e._v("Product Brands")]),s("div",{staticClass:"collections-list product-brands"},e._l(e.brandLinkList,(function(t,a){return s("div",{key:a,staticClass:"wrap"},[s("div",{ref:"brandsPB",refInFor:!0,staticClass:"list"},[t.properties["brandlink:brand_name"]?s("div",{staticClass:"collections-title",on:{mouseover:function(t){e.hoverBrandIdx=a},mouseout:function(t){e.hoverBrandIdx=-1}}},[e._v(" "+e._s(t.properties["brandlink:brand_name"]["properties"].label)+" ")]):e._e(),e.hoverBrandIdx===a?s("div",{staticClass:"collections-title-hover"},[e._v(" "+e._s(t.properties["brandlink:brand_name"]["properties"].label)+" ")]):e._e(),t.properties["brandlink:brand_name"]?s("router-link",{attrs:{to:{path:"/search",query:{brandId:t.properties["brandlink:brand_name"].id}}}},[s("img",{attrs:{src:e.bannerPic(t),alt:"",srcset:""}})]):e._e()],1)])})),0)])]):e._e(),s("b-container",[s("section",{staticClass:"section"},[s("footer",{staticClass:"section-footer"},[s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/search"}},[e._v(" "+e._s(e.$t("message.home-banner-cta"))+" "),s("i",{staticClass:"zmdi zmdi-arrow-right"})])],1)])])],1)},g=[],f=(s("d3b7"),s("ddb0"),{components:{},data:function(){return{assets:[],bannerImg:"",bannerUid:"",collectionsList:[],splashList:[],brandLinkList:[],isHover:!1,hoverIndex:-1,hoverBrandIdx:-1}},created:function(){this.fetchAllCollections(),this.fetchBrandLinks()},computed:{bannerPic:function(){return function(e){var t;return e.properties&&e.properties["file:content"]?t=e.properties["file:content"].data:e.contextParameters&&e.contextParameters.thumbnail&&(t=e.contextParameters.thumbnail.url),t}}},methods:{toLaunchCollections:function(){this.$router.push({path:"/collections",query:{uid:this.bannerUid}})},fetchAllCollections:function(){this.$nuxeo.request("search/pp/launch-splash-collection-search/execute",{schemas:"*",headers:{"fetch.document":"properties",properties:"collection,picture,quickLink,file,launchcollection,splashconfig",depth:"children"},queryParams:{quickLink_active:"true"}}).get().then(function(e){for(var t=this,s=e.entries,a=e.entries,r=0;r<s.length;r++)"LaunchCollection"==s[r].type&&this.collectionsList.length<6?this.collectionsList.push(s[r]):"SplashConfig"==s[r].type&&s[r].properties["file:content"]&&s[r].properties["splashconfig:collection"]&&!this.bannerUid&&(this.bannerUid=s[r].properties["splashconfig:collection"].uid,this.bannerImg=s[r].properties["file:content"].data);for(r=0;r<a.length;r++)"SplashConfig"==a[r].type&&this.splashList.length<1&&this.splashList.push(a[r]);this.$nextTick((function(){1==t.collectionsList.length&&(t.$refs.listPB[0].style.paddingBottom="50%")}))}.bind(this)).catch((function(e){throw e}))},fetchBrandLinks:function(){this.$nuxeo.request("search/pp/brand-link-search-PP/execute",{schemas:"*",headers:{"fetch.document":"properties",properties:"picture,quickLink,file,brandlink",depth:"children","enrichers.document":"thumbnail,permissions,documentURL"},queryParams:{quickLink_active:"true"}}).get().then(function(e){var t,s=this,a=e.entries;if(a.length>6&&a.length%6){t=6-a.length%6;for(var r=0;r<t;r++)a.push({uid:"",properties:{},contextParameters:{},title:""})}this.brandLinkList=a,this.$nextTick((function(){1==s.brandLinkList.length&&(s.$refs.brandsPB[0].style.paddingBottom="50%")}))}.bind(this)).catch((function(e){throw e}))},handleHover:function(e){console.log()},getAssetLink:function(e){return"/search?asset="+e.id},getAsset:function(e){return e.properties["dc:title"]}}}),m=f,v=(s("2e37"),Object(l["a"])(m,p,g,!1,null,"4330270a",null)),_=v.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"main-content"},[s("Lightbox",{ref:"lightbox",attrs:{images:e.images}}),s("div",{staticClass:"search"},[s("aside",{staticClass:"search-filters",class:[{sticky:e.searchFilters.isSticky,stickybottom:e.searchFilters.isStickyBottom,visible:e.searchFilters.isVisibleOnMobile}]},[s("h2",{staticClass:"search-insights"},[e._v(" "+e._s(e.$t("message.search-results-facets"))+" ")]),s("div",{staticStyle:{"padding-bottom":"10px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.es_related_devices,expression:"es_related_devices"}],staticClass:"search-form-input",attrs:{placeholder:e.$t("message.search-devicecode-placeholder")},domProps:{value:e.es_related_devices},on:{input:[function(t){t.target.composing||(e.es_related_devices=t.target.value)},e._deviceCode]}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.facetedKeyword_keywords_label,expression:"facetedKeyword_keywords_label"}],staticClass:"search-form-input",attrs:{placeholder:e.$t("message.search-keywords-placeholder")},domProps:{value:e.facetedKeyword_keywords_label},on:{input:[function(t){t.target.composing||(e.facetedKeyword_keywords_label=t.target.value)},e._onSearchKeywords]}})]),e.hasFacet("product_search_brand_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-product-brand"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.product_search_brand_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("product_search_pl_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-product-line"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.product_search_pl_agg,types:e.PRODUCTLINE},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("es_market_names_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-market-name"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.es_market_names_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("product_search_year_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-product-year"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.product_search_year_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("amazon_retailAssetTypes_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-retail-asset-types"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.amazon_retailAssetTypes_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("amazon_retailAssetUse_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-retail-asset-use"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.amazon_retailAssetUse_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("usage_rights_type_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-rights-type"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.usage_rights_type_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("usage_geography_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-location"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.usage_geography_agg},on:{"selection-change":e.refresh}})],1)]):e._e(),e.hasFacet("picture_info_format_agg")?s("div",{staticClass:"search-filters-group"},[s("h3",{staticClass:"search-filters-group-title"},[e._v(" "+e._s(e.$t("message.search-filter-format"))+" ")]),s("div",{staticClass:"search-filters-group-content"},[s("TermFacet",{attrs:{data:e.facets.picture_info_format_agg},on:{"selection-change":e.refresh}})],1)]):e._e()]),s("div",{staticClass:"search-content"},[s("div",{staticClass:"search-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.fulltext,expression:"fulltext"}],staticClass:"search-form-input",staticStyle:{height:"41px"},attrs:{placeholder:e.$t("message.search-fulltext-placeholder")},domProps:{value:e.fulltext},on:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e._fulltext(t):null},input:[function(t){t.target.composing||(e.fulltext=t.target.value)},e._fulltext]}}),s("b-button",{staticClass:"search-form-submit-btn",attrs:{variant:"primary"},on:{click:e._fulltext}},[s("i",{staticClass:"zmdi zmdi-search"}),s("span",{staticClass:"search-form-submit-btn-label"},[e._v(" "+e._s(e.$t("message.search-action-search"))+" ")])]),s("button",{staticClass:"search-form-filters-btn",on:{click:function(t){return e.toggleFiltersOnMobile()}}},[s("i",{staticClass:"zmdi zmdi-filter-list"})])],1),s("div",{staticClass:"search-results"},[s("header",{staticClass:"search-results-header"},[s("h2",{staticClass:"search-results-header-title"},[e._v(" "+e._s(e.$t("message.search-result-count"))+": "),s("strong",[e._v(e._s(e.total))])]),s("div",{staticClass:"search-results-header-parameters pagesize"},[s("label",{staticStyle:{width:"250px","text-align":"right"},attrs:{for:"pagesize"}},[e._v(" "+e._s(e.$t("message.search-results-per-page"))+" ")]),s("multiselect",{attrs:{options:e.sizes,"track-by":"value",label:"label","allow-empty":!1,showLabels:!1,placeholder:"Size"},model:{value:e.pagesize,callback:function(t){e.pagesize=t},expression:"pagesize"}})],1)]),s("div",{staticClass:"search-results-content"},[e.loading?s("div",{staticClass:"search-results-loader"},[s("spinner",{attrs:{color:"#ef6d22",size:100,depth:5}}),s("span",{staticClass:"search-results-loader-label"},[e._v(" "+e._s(e.$t("message.search-loading"))+" ")])],1):e._e(),s("b-modal",{ref:"selectionModal",attrs:{id:"modal1",title:"Bootstrap-Vue"}},[e._l(e.selects,(function(t,a){return s("div",{key:t.uid,staticClass:"select"},[s("img",{staticClass:"minithumb",attrs:{src:t.contextParameters.thumbnail.url},on:{click:function(t){return e.openGallery(a)}}}),s("div",[e._v(e._s(t.title))]),s("b-button",{on:{click:function(s){return e.unselect(t)}}},[e._v("Unselect")])],1)})),s("b-button",{on:{click:function(t){return e.addSelectionToCart()}}},[e._v("Add Selection to Cart")]),s("b-button",{on:{click:function(t){return e.clearSelects()}}},[e._v("Clear Selection")])],2),e.loading?e._e():s("b-row",e._l(e.results,(function(t,a){return s("b-col",{key:t.uid,attrs:{md:"6",lg:"4",xl:"3"}},[s("article",{staticClass:"product-item"},[s("div",{staticClass:"product-item-cover-wrapper"},[s("div",{staticClass:"product-item-cover",style:{backgroundImage:"url("+t.contextParameters.thumbnail.url+")"}}),s("div",{staticClass:"product-item-cover-actions"},[s("b-button",{staticClass:"btn-primary preview-btn",on:{click:function(t){return e.openGallery(a)}}},[s("i",{staticClass:"zmdi zmdi-zoom-in"}),e._v(" "+e._s(e.$t("message.search-action-details"))+" ")]),e.isInCart(t)?s("div",[s("b-button",{on:{click:function(s){return e.removeFromCart(t)}}},[e._v(" "+e._s(e.$t("message.search-action-remove-from-cart"))+" ")])],1):s("div",[-1!=t.contextParameters.permissions.indexOf("Download")?s("b-button",{staticClass:"btn-primary cart-btn",on:{click:function(s){return e.addToCart(t)}}},[s("i",{staticClass:"zmdi zmdi-shopping-cart-plus"}),e._v(" "+e._s(e.$t("message.search-action-add-to-cart"))+" ")]):e._e()],1)],1)]),s("header",{staticClass:"product-item-header",on:{click:function(t){return e.openGallery(a)}}},[s("h4",{staticClass:"product-item-title"},[e._v(" "+e._s(t.title)+" ")])])])])})),1)],1),s("footer",{staticClass:"search-results-footer"},[s("b-pagination",{attrs:{"total-rows":e.total,"per-page":e.pagesize.value},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])],1)},b=[],C=(s("4160"),s("c975"),s("a434"),s("ac1f"),s("841c"),s("159b"),s("bf19"),s("8e5f")),w=s.n(C),S=(s("e607"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.buckets,(function(t){return s("div",{key:t.key,staticClass:"search-termfacet"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"bucket.checked"}],attrs:{type:"checkbox",id:e.bucketKey(t.key)},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:[function(s){var a=t.checked,r=s.target,i=!!r.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);r.checked?n<0&&e.$set(t,"checked",a.concat([o])):n>-1&&e.$set(t,"checked",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(t,"checked",i)},e._notifyChange]}}),s("label",{attrs:{for:e.bucketKey(t.key)}},[e._v(" "+e._s(t.label)+" "),s("span",{staticClass:"search-termfacet-count"},[e._v(e._s(t.docCount))])])])})),0)}),P=[],x=(s("99af"),s("1276"),{props:{data:{type:Object,value:{}},facetName:{type:String,value:""},types:{type:String,value:""}},data:function(){return{buckets:[],routeQuery:{},pageRoute:"",routerList:[]}},watch:{data:function(e){return this._updateBuckets(),e}},mounted:function(){this._updateBuckets(),this.routeQuery=this.$route.query},methods:{bucketKey:function(e){return e+this.types},_notifyChange:function(){var e=[];this.buckets.forEach((function(t){t.checked&&e.push(t.key)})),this.$emit("selection-change",{values:e,facetName:this.data.id})},_updateBuckets:function(){var e=this,t=this.data.extendedBuckets,s=this.data.selection;t.forEach((function(t){t.checked=s.indexOf(t.key)>=0,t.label=e._computeLabel(t)})),t.sort((function(e,t){if("countries"==e.fetchedKey.directoryName){if("US - United States"==e.label)return-1;if("US - United States"==t.label)return 1}return e.label<t.label?-1:e.label>t.label?1:0})),this.buckets=t},_computeLabel:function(e){if(e.fetchedKey){var t=e.fetchedKey;return"directoryEntry"===t["entity-type"]?this.labelForDirectoryEntry(t):"user"===t["entity-type"]?this.labelForUserEntry(t):"document"===t["entity-type"]?t.properties["dc:title"]||t["title"]:e.key}return e.key},labelForDirectoryEntry:function(e){var t="en";t.indexOf("-")>-1&&(t=t.split("-")[0]);var s=[];while(e)e.properties["label_".concat(t)]?s.push(e.properties["label_".concat(t)]):e.properties.label?s.push(e.properties.label):e.properties.label_en?s.push(e.properties.label_en):s.push(e.properties.id),e=e.properties.parent;return s[0]},labelForUserEntry:function(e){return void 0===e.properties?e.id:e.properties.firstName&&e.properties.firstName.length>0&&e.properties.lastName&&e.properties.lastName.length>0?"".concat(e.properties.firstName," ").concat(e.properties.lastName):e.properties.username}}}),O=x,k=(s("d36f"),Object(l["a"])(O,S,P,!1,null,"65039ee0",null)),T=k.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{on:{click:function(t){return t.stopPropagation(),e.closeLightBox(t)}}},[e.images&&e.images.length>0?s("div",{directives:[{name:"show",rawName:"v-show",value:e.lightBoxOn,expression:"lightBoxOn"}],ref:"container",staticClass:"vue-lb-container"},[s("div",{staticClass:"vue-lb-content"},[s("div",{staticClass:"vue-lb-header"},[s("button",{staticClass:"vue-lb-button-close",attrs:{type:"button",title:e.$t("message.lightbox-close-esc")}},[s("i",{staticClass:"zmdi zmdi-close"})])]),e._v(" "),s("div",{staticClass:"vue-lb-figure",on:{click:function(e){e.stopPropagation()}}},[s("transition",{attrs:{mode:"out-in",name:"fade"}},[e.hasSelect?s("asset-preview",{ref:"preview",attrs:{asset:e.currentAsset},on:{onCloseLightBox:e.closeLightBox}}):e._e()],1),s("div",{staticClass:"vue-lb-footer"},[s("div",{staticClass:"vue-lb-footer-info"}),s("div",{staticClass:"vue-lb-footer-count"},[e._v(" "+e._s(e.select+1)+"/"+e._s(e.images.length)+" ")])])],1)]),e._v(" "),e.images.length>1?s("button",{staticClass:"vue-lb-arrow vue-lb-left",attrs:{type:"button",title:e.$t("message.lightbox-previous")},on:{click:function(t){return t.stopPropagation(),e.previousImage()}}},[s("i",{staticClass:"zmdi zmdi-chevron-left"})]):e._e(),e.images.length>1?s("button",{staticClass:"vue-lb-arrow vue-lb-right",attrs:{type:"button",title:e.$t("message.lightbox-next")},on:{click:function(t){return t.stopPropagation(),e.nextImage()}}},[s("i",{staticClass:"zmdi zmdi-chevron-right"})]):e._e()]):e._e()])},F=[],A=(s("d81d"),s("a9e3"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"product-detail"},[s("div",{staticClass:"product-detail-preview-wrapper"},[e.asset.facets.indexOf("Picture")>-1?s("img-preview",{staticClass:"product-detail-preview img-set",attrs:{url:e.imageUrl}}):e.asset.facets.indexOf("Video")>-1?s("div",{staticClass:"product-detail-preview"},[s("video-player",{ref:"videoPlayer",staticClass:"video-player-box product-detail-preview-video",attrs:{options:e.playerOptions,playsinline:!0}})],1):e.isPdf?s("iframe",{staticClass:"product-detail-preview iframe",attrs:{src:e.pdfUrl,frameborder:"0"}}):s("iframe",{staticClass:"product-detail-preview iframe",attrs:{src:e.nonPictureUrl,frameborder:"0"}})],1),s("div",{staticClass:"product-detail-infos"},[s("header",{staticClass:"product-detail-header"},[s("h1",{staticClass:"product-detail-title"},[e._v(" "+e._s(e.title)+" "),e.isInCart()?s("div",[s("b-button",{staticClass:"btn-primary ",on:{click:function(t){return e.removeFromCart()}}},[e._v(" "+e._s(e.$t("message.assetPreview-remove-from-cart"))+" ")])],1):s("div",[e.isShowAddBtn?s("b-button",{staticClass:"btn-primary ",on:{click:function(t){return e.addToCart()}}},[s("i",{staticClass:"zmdi zmdi-shopping-cart-plus"}),e._v(" "+e._s(e.$t("message.assetPreview-add-to-cart"))+" ")]):e._e()],1)]),s("ul",{staticClass:"product-detail-metas-list"},[e.rightsType?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-rights-type"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.rightsType&&e.rightsType.properties?e.rightsType.properties.label:"")+" ")])]):e._e(),e.geography&&e.geography.length>0?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-geography"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.geography?e.geography:"")+" ")])]):e._e(),e.approvedLanguage&&e.approvedLanguage.length>0?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-approved-language"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.approvedLanguage?e.approvedLanguage:"")+" ")])]):e._e(),e.expire?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-expire"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.expire?e.expire:"")+" ")])]):e._e(),e.restriction?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-restriction"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.restriction?e.restriction:"")+" ")])]):e._e(),e.product?s("li",{staticClass:"product-detail-metas-list-item"},[s("span",{staticClass:"product-detail-metas-list-item-label"},[e._v(" "+e._s(e.$t("message.assetPreview-asset-product"))+" ")]),s("span",{staticClass:"product-detail-metas-list-item-value"},[e._v(" "+e._s(e.product?e.product:"")+" ")])]):e._e(),e.currentUrl&&e.currentUrl.length?s("li",{staticClass:"product-detail-metas-list-item"},[s("a",{attrs:{href:e.currentUrl,target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(e.currentUrl))])]):e._e()])])])])}),q=[],L=(s("a15b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("img",{ref:"image",staticClass:"source",attrs:{src:e.url}})])}),N=[],E=s("c82c"),z=s.n(E),I=(s("0808"),{props:{url:{type:String}},mounted:function(){this.createViewer()},destroyed:function(){this.$viewer&&this.$viewer.destroy()},watch:{url:function(e){return this.$nextTick((function(){this.$viewer?this.$viewer.update():this.createViewer()})),e}},methods:{createViewer:function(){this.$viewer=new z.a(this.$refs.image,{inline:!0,navbar:!1,title:!1,loading:!0,fullscreen:!0,toolbar:{zoomIn:4,zoomOut:4,oneToOne:4,reset:4,prev:{show:!1},play:{show:!1},next:{show:!1},rotateLeft:4,rotateRight:4,flipHorizontal:4,flipVertical:4,fullscreen:{show:!0}}}),this.$viewer.show()}}}),D=I,R=(s("2c19"),Object(l["a"])(D,L,N,!1,null,null,null)),U=R.exports,B=(s("fda2"),s("d6d3")),J={components:{ImgPreview:U,videoPlayer:B["videoPlayer"]},props:{asset:{type:Object}},computed:{isShowAddBtn:function(){return-1!=this.asset.contextParameters.permissions.indexOf("Download")},nonPictureUrl:function(){return this.asset.contextParameters.preview.url},isPdf:function(){return"undefined"!==this.asset.properties["file:content"]&&null!==this.asset.properties["file:content"]["mime-type"]&&"application/pdf"===this.asset.properties["file:content"]["mime-type"]},pdfUrl:function(){return this.asset.contextParameters.preview.url},imageUrl:function(){return this.asset.properties["picture:views"].length&&this.asset.properties["picture:views"][3].content.data},playerOptions:function(){return{muted:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:this.asset.properties["vid:transcodedVideos"][1].content.data}],poster:this.asset.properties["picture:views"].length&&this.asset.properties["picture:views"][1].content.data}},title:function(){return this.asset.title},description:function(){return this.asset.properties["dc:description"]?this.asset.properties["dc:description"]:""},assetType:function(){return this.asset.properties["amz:asset_type"]?this.asset.properties["amz:asset_type"]:""},assetCategory:function(){return this.asset.properties["amz:asset_category"]?this.asset.properties["amz:asset_category"]:""},originalCreatorName:function(){return this.asset.properties["amz:original_creator_name"]?this.asset.properties["amz:original_creator_name"]:""},originalCreatorRole:function(){return this.asset.properties["amz:original_creator_role"]?this.asset.properties["amz:original_creator_role"]:""},language:function(){return this.asset.properties["amz:language"]?this.asset.properties["amz:language"]:""},isRetouchedVersion:function(){return this.asset.properties["amz:is_retouched_version"]?this.asset.properties["amz:is_retouched_version"]:""},owner:function(){return this.asset.properties["dc:publisher"]?this.asset.properties["dc:publisher"]:""},rightsType:function(){return this.asset.properties["usage:rights_type"]?this.asset.properties["usage:rights_type"]:""},channel:function(){return this.asset.properties["usage:channel"]?this.asset.properties["usage:channel"]:""},subChannel:function(){return this.asset.properties["usage:subchannel"]?this.asset.properties["usage:subchannel"]:""},geography:function(){var e=this.asset.properties["usage:geography"];return e.map((function(e){return e.properties.label})).join(",")},approvedLanguage:function(){var e=this.asset.properties["usage:language"];return e.map((function(e){return"string"==typeof e?e:e.properties.label})).join(",")},expire:function(){if(this.asset.properties["dc:expired"]){var e=this.asset.properties["dc:expired"],t=new Date(e),s=t.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return s}return""},restriction:function(){return this.asset.properties["dc:rights"]?this.asset.properties["dc:rights"]:""},workspace:function(){return this.asset.properties["relations:workspaceLocation"]?this.asset.properties["relations:workspaceLocation"].title:""},product:function(){var e=this.asset.contextParameters.relatedDevices;return e&&null!==e&&0!==e.length?e.map((function(e){return e})).join(","):null},keywords:function(){var e=this.asset.properties["amzkeyword:keywords"];return null===e||0===e.length?null:e},currentUrl:function(){if(!this.$route.query.asset){var e="";return e="/"==window.location.pathname?"":window.location.pathname,"".concat(window.location.origin).concat(e,"#detail?asset=").concat(this.asset.uid)}}},methods:{stop:function(){this.$refs.videoPlayer&&this.$refs.videoPlayer.$refs.video.pause()},addToCart:function(){this.$nuxeo.operation("javascript.CART_AddToCart").input(this.asset.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.assetPreview-added-to-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.assetPreview-unable-to-add"),o.TOASTED_DEFAULT_OPTIONS),e}))},removeFromCart:function(){this.$nuxeo.operation("javascript.CART_RemoveFromCart").input(this.asset.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.assetPreview-removed-from-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.assetPreview-unable-to-remove"),o.TOASTED_DEFAULT_OPTIONS),e}))},isInCart:function(){var e=this.$store.getters.isInCart(this.asset.uid);return e},redirectToSearchPage:function(e){var t={};t.facetedKeyword_keywords_label=e,this.$router.push({path:"/search",query:t}),this.$emit("onCloseLightBox",t)}}},M=J,j=(s("4f37"),Object(l["a"])(M,A,q,!1,null,null,null)),V=j.exports,K={components:{AssetPreview:V},props:{images:{type:Array,required:!0},disableScroll:{type:Boolean,default:!0},showLightBox:{type:Boolean,default:!1},startAt:{type:Number,default:-1},nThumbs:{type:Number,default:7},showThumbs:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!1},autoPlayTime:{type:Number,default:3e3},siteLoading:{default:null},showCaption:{type:Boolean,default:!1},lengthToLoadMore:{type:Number,default:0}},data:function(){return{select:this.startAt,lightBoxOn:this.showLightBox,timer:null}},computed:{thumbIndex:function(){var e=Math.floor(this.nThumbs/2);return this.select>=e&&this.select<this.images.length-e?{begin:this.select-e+(1-this.nThumbs%2),end:this.select+e}:this.select<e?{begin:0,end:this.nThumbs-1}:{begin:this.images.length-this.nThumbs,end:this.images.length-1}},imagesThumb:function(){var e=this;return this.siteLoading?this.images.map((function(t){var s=t.thumb;return{src:s,loading:e.siteLoading,error:e.siteLoading}})):this.images.map((function(e){var t=e.thumb;return t}))},currentAsset:function(){return this.images[this.select].document},hasSelect:function(){return this.select>=0}},watch:{lightBoxOn:function(e){null!=document&&this.onToggleLightBox(e)},select:function(){this.select>=this.images.length-this.lengthToLoadMore-1&&this.$emit("onLoad"),this.select===this.images.length-1&&this.$emit("onLastIndex"),this.select,this.$emit("onFirstIndex"),this.select===this.startAt&&this.$emit("onStartIndex")}},mounted:function(){var e=this;this.autoPlay&&(this.timer=setInterval((function(){e.nextImage()}),this.autoPlayTime)),this.onToggleLightBox(this.lightBoxOn)},methods:{onToggleLightBox:function(e){this.disableScroll&&document.querySelector("html").classList.toggle("no-scroll",e),document.querySelector("body").classList.toggle("vue-lb-open",e),this.$emit("onOpened",e),e?document.addEventListener("keydown",this.addKeyEvent):(document.removeEventListener("keydown",this.addKeyEvent),this.$refs.preview&&this.$refs.preview.stop())},showImage:function(e){this.$set(this,"lightBoxOn",!0),this.$set(this,"select",e)},addKeyEvent:function(e){37===e.keyCode&&this.previousImage(),39===e.keyCode&&this.nextImage(),27===e.keyCode&&this.closeLightBox()},closeLightBox:function(){this.$set(this,"lightBoxOn",!1)},nextImage:function(){this.$set(this,"select",(this.select+1)%this.images.length)},previousImage:function(){this.$set(this,"select",(this.select+this.images.length-1)%this.images.length)}},beforeDestroy:function(){document.removeEventListener("keydown",this.addKeyEvent),this.autoPlay&&clearInterval(this.timer)}},G=K,Y=Object(l["a"])(G,$,F,!1,null,null,null),H=Y.exports,X=s("f3a1"),W={components:{Multiselect:w.a,TermFacet:T,Lightbox:H,Spinner:X["a"]},props:{type:{type:String},state:{type:String},priority:{type:String},language:{type:String},isRetouchedVersion:{type:Boolean},rightsType:{type:String},usageChannel:{type:String},subChannel:{type:String},usageGeography:{type:String},usageLanguage:{type:String},workspace:{type:String},agencies:{type:String},retailers:{type:Document},vendors:{type:Document},role:{type:Document},format:{type:String},colorSpace:{type:String},productBrand:{type:String},productLine:{type:String},productYear:{type:String},productGeneration:{type:String},productVersion:{type:String},retailAssetTypes:{type:String},productType:{type:String},productSize:{type:String},productColor:{type:String},productLaunchedCountries:{type:String},marketnames:{type:String}},data:function(){return{fulltext:void 0,dublincore_title:void 0,es_related_devices:void 0,facetedKeyword_keywords_label:void 0,userInput:null,amazon_original_creator_name:void 0,dublincore_publisher:void 0,product_product_id:void 0,reviewMin:void 0,reviewMax:void 0,liveMin:void 0,liveMax:void 0,deliverMin:void 0,deliverMax:void 0,expireMin:void 0,expireMax:void 0,productionMin:void 0,productionMax:void 0,purchaseMin:void 0,purchaseMax:void 0,results:[],pagesize:{value:24,label:"24"},currentPage:1,total:0,sizes:[{value:12,label:"12"},{value:24,label:"24"},{value:48,label:"48"},{value:96,label:"96"}],typeFilter:void 0,priorityFilter:void 0,stateFilter:void 0,languageFilter:void 0,isRetouchedFilter:void 0,rightsTypeFilter:void 0,retailAssetTypeFilter:void 0,retailAssetUseFilter:void 0,channelFilter:void 0,subChannelFilter:void 0,usageGeographyFilter:void 0,usageLanguageFilter:void 0,workspaceFilter:void 0,agenciesFilter:void 0,retailersFilter:void 0,vendorsFilter:void 0,roleFilter:void 0,formatFilter:void 0,colorSpaceFilter:void 0,productBrandFilter:void 0,productLineFilter:void 0,productYearFilter:void 0,productGenerationFilter:void 0,productVersionFilter:void 0,productCategoryFilter:void 0,productTypeFilter:void 0,productSizeFilter:void 0,productColorFilter:void 0,productLaunchedCountriesFilter:void 0,marketNamesFilter:void 0,facets:{},queryParams:{},queryRoute:{},selects:[],loading:!1,searchFilters:{isSticky:!1,isStickyBottom:!1,offsetTop:0,isVisibleOnMobile:!1},scrollTop:0,PRODUCTLINE:"PRODUCTLINE"}},computed:{images:function(){var e=[];return this.results.forEach((function(t){e.push({thumb:t.contextParameters.thumbnail.url,src:t.contextParameters.thumbnail.url,caption:t.title,document:t})})),e}},watch:{pagesize:function(e){this.queryParams.pageSize=e.value,this.search()},currentPage:function(){this.queryParams.currentPageIndex=this.currentPage-1,this.search()},$route:function(){void 0!=this.$route.query.facetedKeyword_keywords_label&&(this.facetedKeyword_keywords_label=this.$route.query.facetedKeyword_keywords_label),this.search()},"$route.query.facetedKeyword_keywords_label":function(){void 0!=this.$route.query.facetedKeyword_keywords_label&&(this.facetedKeyword_keywords_label=this.$route.query.facetedKeyword_keywords_label),this.search()}},mounted:function(){this.facetedKeyword_keywords_label&&(this.queryParams.facetedKeyword_keywords_label=this.facetedKeyword_keywords_label),this.queryParams.pageSize=this.pagesize.value,this.routeQuery=this.$route.query,Object.assign(this.queryParams,this.routeQuery),this.search(),this.calculateSearchFiltersPosition()},methods:{_fulltext:function(){this.queryParams.system_fulltext=this.fulltext,this.search()},_deviceCode:function(){this.queryParams.es_related_devices=this.es_related_devices,this.search()},_onSearchKeywords:function(){this.search()},_creator:function(){this.queryParams.amazon_original_creator_name=this.amazon_original_creator_name,this.search()},_owner:function(){this.queryParams.dublincore_publisher=this.dublincore_publisher,this.search()},_productId:function(){this.queryParams.product_product_id=this.product_product_id,this.search()},_minReviewDate:function(){this.reviewMin?this.queryParams.project_review_date_min=this.reviewMin.toJSON():this.queryParams.project_review_date_min=void 0,this.search()},_maxReviewDate:function(){this.reviewMax?this.queryParams.project_review_date_max=this.reviewMax.toJSON():this.queryParams.project_review_date_max=void 0,this.search()},_minLiveDate:function(){this.liveMin?this.queryParams.project_live_send_date_min=this.liveMin.toJSON():this.queryParams.project_live_send_date_min=void 0,this.search()},_maxLiveDate:function(){this.liveMax?this.queryParams.project_live_send_date_max=this.liveMax.toJSON():this.queryParams.project_live_send_date_max=void 0,this.search()},_minProductionDate:function(){this.liveMin?this.queryParams.product_production_date_min=this.productionMin.toJSON():this.queryParams.product_production_date_min=void 0,this.search()},_maxProductionDate:function(){this.liveMax?this.queryParams.product_production_date_max=this.productionMax.toJSON():this.queryParams.product_production_date_max=void 0,this.search()},_minPurchaseDate:function(){this.liveMin?this.queryParams.product_purchase_date_min=this.purchaseMin.toJSON():this.queryParams.product_purchase_date_min=void 0,this.search()},_maxPurchaseDate:function(){this.liveMax?this.queryParams.product_purchase_date_max=this.purchaseMax.toJSON():this.queryParams.product_purchase_date_max=void 0,this.search()},_minDeliverDate:function(){this.deliverMin?this.queryParams.project_delivery_date_min=this.deliverMin.toJSON():this.queryParams.project_delivery_date_min=void 0,this.search()},_maxDeliverDate:function(){this.deliverMax?this.queryParams.project_delivery_date_max=this.deliverMax.toJSON():this.queryParams.project_delivery_date_max=void 0,this.search()},_minExpireDate:function(){this.expireMin?this.queryParams.dublincore_expired_min=this.expireMin.toJSON():this.queryParams.dublincore_expired_min=void 0,this.search()},_maxExpireDate:function(){this.expireMax?this.queryParams.dublincore_expired_max=this.expireMax.toJSON():this.queryParams.dublincore_expired_max=void 0,this.search()},typeFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.system_primaryType_agg=JSON.stringify(t),this.search()},stateFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.system_currentLifeCycleState_agg=JSON.stringify(t),this.search()},priorityFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.project_priority_agg=JSON.stringify(t),this.search()},retailAssetTypesFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.amazon_retailAssetTypes_agg=JSON.stringify(t),this.search()},retailAssetUseFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.amazon_retailAssetUse_agg=JSON.stringify(t),this.search()},languageFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.amazon_language_agg=JSON.stringify(t),this.search()},isRetouchedVersionFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.amazon_is_retouched_version_agg=JSON.stringify(t),this.search()},rightsTypeFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.usage_rights_type_agg=JSON.stringify(t),this.search()},channelFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.usage_usagechannel_channel_agg=JSON.stringify(t),this.search()},subChannelFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.usage_usagechannel_subchannel_agg=JSON.stringify(t),this.search()},usageGeographyFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.usage_geography_agg=JSON.stringify(t),this.search()},usageLanguageFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.usage_language_agg=JSON.stringify(t),this.search()},workspaceFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.relations_workspaceLocation_agg=JSON.stringify(t),this.search()},agenciesFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.external_search_agencies_agg=JSON.stringify(t),this.search()},retailersFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.external_search_retailers_agg=JSON.stringify(t),this.search()},vendorsFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.external_search_vendors_agg=JSON.stringify(t),this.search()},roleFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.amazon_creator_role_agg=JSON.stringify(t),this.search()},formatFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.picture_info_format_agg=JSON.stringify(t),this.search()},colorSpaceFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.picture_info_colorSpace_agg=JSON.stringify(t),this.search()},productBrandFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_brand_agg=JSON.stringify(t),this.search()},productLineFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_pl_agg=JSON.stringify(t),this.search()},productYearFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_year_agg=JSON.stringify(t),this.search()},marketNamesFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.es_market_names_agg=JSON.stringify(t),this.search()},productGenerationFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_generation_agg=JSON.stringify(t),this.search()},productVersionFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_version_agg=JSON.stringify(t),this.search()},productCategoryFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_category_agg=JSON.stringify(t),this.search()},productTypeFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_product_type_agg=JSON.stringify(t),this.search()},productSizeFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_size_agg=JSON.stringify(t),this.search()},productColorFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_color_agg=JSON.stringify(t),this.search()},productLaunchedCountriesFilterChanged:function(e){var t=[];e.forEach((function(e){t.push(e.value)})),this.queryParams.product_search_launch_countries_agg=JSON.stringify(t),this.search()},search:function(){this.queryParams.facetedKeyword_keywords_label=this.facetedKeyword_keywords_label,this.loading=!0,this.searchFilters.isVisibleOnMobile=!1,this.$nuxeo.request("search/pp/Amazon-Device-HubSearchPP/execute",{schemas:"*",headers:{"enrichers.document":"thumbnail,preview,permissions,codename,relatedDevices","X-NXfetch.aggregate":"key","fetch.document":"properties","X-NXtranslate.directoryEntry":"label"},queryParams:this.queryParams}).get().then(function(e){this.results.splice(0,this.results.length),e.entries.forEach(function(e){this.results.push(e)}.bind(this)),this.total=parseInt(e.totalSize),this.facets=e.aggregations,console.log("",this.facets),this.loading=!1}.bind(this)).catch((function(e){throw this.loading=!1,this.$toasted.error(this.$t("message.search-error"),o.TOASTED_DEFAULT_OPTIONS),e}))},refresh:function(e){this.queryRoute=JSON.parse(JSON.stringify(this.$route.query)),this.queryParams=Object.assign(this.$route.query,this.queryParams),this.queryParams[e.facetName]=JSON.stringify(e.values),this.queryRoute[e.facetName]=JSON.stringify(e.values),this.$router.push({path:"/search",query:this.queryRoute}),this.search()},openGallery:function(e){this.$refs.lightbox.showImage(e)},setInitialFiltersFromRoute:function(){this.type&&(this.queryParams.system_primaryType_agg=JSON.stringify([this.type])),this.state&&(this.queryParams.system_currentLifeCycleState_agg=JSON.stringify([this.state])),this.priority&&(this.queryParams.project_priority_agg=JSON.stringify([this.priority])),this.retailAssetTypes&&(this.queryParams.amazon_retailAssetTypes_agg=JSON.stringify([this.retailAssetTypes])),this.retailAssetUse&&(this.queryParams.amazon_retailAssetUse_agg=JSON.stringify([this.retailAssetUse])),this.language&&(this.queryParams.amazon_language_agg=JSON.stringify([this.language])),this.isRetouchedVersion&&(this.queryParams.amazon_is_retouched_version_agg=JSON.stringify([this.isRetouchedVersion])),this.rightsType&&(this.queryParams.usage_rights_type_agg=JSON.stringify([this.rightsType])),this.usageChannel&&(this.queryParams.usage_usagechannel_channel_agg=JSON.stringify([this.usageChannel])),this.subChannel&&(this.queryParams.usage_usagechannel_subchannel_agg=JSON.stringify([this.subChannel])),this.usageGeography&&(this.queryParams.usage_geography_agg=JSON.stringify([this.usageGeography])),this.usageLanguage&&(this.queryParams.usage_language_agg=JSON.stringify([this.usageLanguage])),this.workspace&&(this.queryParams.relations_workspaceLocation_agg=JSON.stringify([this.workspace])),this.agencies&&(this.queryParams.external_search_agencies_agg=JSON.stringify([this.agencies])),this.retailers&&(this.queryParams.external_search_retailers_agg=JSON.stringify([this.retailers])),this.vendors&&(this.queryParams.external_search_vendors_agg=JSON.stringify([this.vendors])),this.role&&(this.queryParams.amazon_creator_role_agg=JSON.stringify([this.role])),this.format&&(this.queryParams.picture_info_format_agg=JSON.stringify([this.format])),this.colorSpace&&(this.queryParams.picture_info_colorSpace_agg=JSON.stringify([this.colorSpace])),this.productBrand&&(this.queryParams.product_search_brand_agg=JSON.stringify([this.productBrand])),this.productLine&&(this.queryParams.product_search_pl_agg=JSON.stringify([this.productLine])),this.productYear&&(this.queryParams.product_search_year_agg=JSON.stringify([this.productYear])),this.marketnames&&(this.queryParams.es_market_names_agg=JSON.stringify([this.marketnames])),this.productGeneration&&(this.queryParams.product_search_generation_agg=JSON.stringify([this.productGeneration])),this.productVersion&&(this.queryParams.product_search_version_agg=JSON.stringify([this.productVersion])),this.productCategory&&(this.queryParams.product_search_category_agg=JSON.stringify([this.productCategory])),this.productType&&(this.queryParams.product_search_product_type_agg=JSON.stringify([this.productType])),this.productSize&&(this.queryParams.product_search_size_agg=JSON.stringify([this.productSize])),this.productLaunchedCountries&&(this.queryParams.product_search_launch_countries_agg=JSON.stringify([this.productLaunchedCountries])),this.productColor&&(this.queryParams.product_search_color_agg=JSON.stringify([this.productColor])),this.facetedKeyword_keywords_label&&(this.queryParams.facetedKeyword_keywords_label=this.facetedKeyword_keywords_label)},addToCart:function(e){this.$nuxeo.operation("javascript.CART_AddToCart").input(e.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.search-added-to-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.search-unable-to-add"),o.TOASTED_DEFAULT_OPTIONS),e}))},removeFromCart:function(e){this.$nuxeo.operation("javascript.CART_RemoveFromCart").input(e.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.search-removed-from-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.search-unable-to-remove"),o.TOASTED_DEFAULT_OPTIONS),e}))},select:function(e){this.selects.indexOf(e)<0&&this.selects.push(e)},unselect:function(e){var t=this.selects.indexOf(e);t>=0&&this.selects.splice(t,1)},isSelect:function(e){return this.selects.indexOf(e)>=0},addSelectionToCart:function(){this.$nuxeo.operation("Collection.AddToCollection").input(this.selects).param("collection","/default-domain/UserWorkspaces/Guest/Shopping_Cart").execute().then(function(){this.$store.dispatch("updateCart"),this.clearSelects(),this.$refs.selectionModal.hide(),this.$toasted.success(this.$t("message.Selection Added to Cart"),o.TOASTED_DEFAULT_OPTIONS)}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.Could Not Add Selection to Cart"),o.TOASTED_DEFAULT_OPTIONS),e}))},clearSelects:function(){this.selects.splice(0,this.selects.length)},isInCart:function(e){var t=this.$store.getters.isInCart(e.uid);return t},hasFacet:function(e){return this.facets[e]&&this.facets[e].buckets&&this.facets[e].buckets.length>0},calculateSearchFiltersPosition:function(){var e=this.$el.querySelector(".search-filters");this.searchFilters.offsetTop=e.getBoundingClientRect().top},handleScroll:function(){if(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,this.scrollTop>this.searchFilters.offsetTop){var e=document.querySelector(".app-footer").getBoundingClientRect().top,t=this.$el.querySelector(".search-filters").clientHeight;e<t?(this.searchFilters.isStickyBottom=!0,this.searchFilters.isSticky=!1):(this.searchFilters.isSticky=!0,this.searchFilters.isStickyBottom=!1)}else this.searchFilters.isSticky=!1,this.searchFilters.isStickyBottom=!1},toggleFiltersOnMobile:function(){this.searchFilters.isVisibleOnMobile=!this.searchFilters.isVisibleOnMobile}},created:function(){this.$route.query.brandId&&(this.queryParams.product_search_brand_agg=JSON.stringify([this.$route.query.brandId])),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)}},Q=W,Z=Object(l["a"])(Q,y,b,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"main-content"},[s("b-container",[s("section",{staticClass:"section"},[s("header",{staticClass:"section-header"},[s("h2",{staticClass:"section-title"},[e._v(" "+e._s(e.$t("message.cart-title"))+" ")])]),s("div",{staticClass:"section-content"},[e.total>0&&!e.loading?s("b-list-group",e._l(e.cartAssets,(function(t,a){return s("b-list-group-item",{key:t.uid,staticClass:"d-flex flex-row flex-wrap"},[s("div",{staticClass:"d-flex align-self-center flex-row flex-nowrap left"},[s("div",{staticClass:"p-2 align-self-center product-item-cover-wrapper thumb",style:{"background-image":"url("+t.contextParameters.thumbnail.url+")"}}),s("div",{staticClass:"p-2 align-self-center"},[e._v(" "+e._s(t.title)+" ")])]),s("div",{staticClass:"d-flex align-self-center flex-row flex-nowrap"},[s("div",{staticClass:"rendition"},[s("v-select",{attrs:{clearable:!1,options:e.getAdditionalFormats(t)},on:{input:function(s){return e.renditionChanged(t,a)}},model:{value:t.rendition,callback:function(s){e.$set(t,"rendition",s)},expression:"asset.rendition"}})],1),s("div",{staticClass:"p-2 align-self-center badge file-size"},[e._v(" "+e._s(t.renditionSizeString)+" ")])]),s("div",{staticClass:"align-self-center ml-auto actions"},[s("b-btn",{attrs:{variant:"danger",size:"sm"},on:{click:function(s){return e.removeFromCart(t.uid)}}},[s("i",{staticClass:"zmdi zmdi-delete"})])],1)])})),1):e._e()],1),e.loading?s("div",{staticClass:"search-results-loader"},[s("spinner",{attrs:{color:"#ef6d22",size:100,depth:5}}),s("span",{staticClass:"search-results-loader-label"},[e._v(" "+e._s(e.$t("message.cart-loading"))+" ")])],1):e._e(),0!==e.total||e.loading?e._e():s("p",[e._v(" "+e._s(e.$t("message.cart-is-empty"))+" ")]),e.total>0&&!e.loading?s("footer",{staticClass:"section-footer"},[s("b-btn",{attrs:{variant:"secondary"},on:{click:function(t){return e.clearCart()}}},[s("i",{staticClass:"zmdi zmdi-refresh"}),s("span",{staticClass:"text-with-icon"},[e._v(e._s(e.$t("message.cart-clear")))])]),s("b-btn",{staticClass:"ml-3",attrs:{variant:"primary"},on:{click:function(t){return e.downloadCart()}}},[s("i",{staticClass:"zmdi zmdi-download"}),s("span",{staticClass:"text-with-icon"},[e._v(e._s(e.$t("message.cart-download")))]),e.downloading?s("spinner",{attrs:{color:"#ffffff",size:16,depth:2}}):e._e()],1)],1):e._e()])])],1)},se=[],ae=(s("4de4"),s("c740"),s("b0c0"),s("b680"),s("3ca3"),s("466d"),s("2b3d"),s("53ca")),re=s("4a7a"),ie=s.n(re),oe={components:{vSelect:ie.a,Spinner:X["a"]},data:function(){return{cartAssets:[],pagesize:25,total:0,fields:[{key:"thumbnail",label:this.$t("message.message.cart-column-preview")},{key:"title",label:this.$t("message.message.cart-column-title")},{key:"renditions",label:this.$t("message.message.cart-column-rendition")},{key:"size",label:this.$t("message.message.cart-column-size")},{key:"actions",label:""}],loading:!1,downloading:!1}},watch:{},created:function(){this.loading=!0,this.fetchCart()},methods:{fetchCart:function(){var e={schemas:"*",headers:{"enrichers.document":"thumbnail,preview,permissions"}};this.$nuxeo.operation("javascript.CART_GetCartContents").params(this.getCartIdParams()).execute(e).then(function(e){e.entries?(this.cartAssets=e.entries,this.cartAssets.forEach(function(e){e.rendition=this.getDefaultRenditionValue(e),e.renditionSizeString=this.getRenditionSizeString(e)}.bind(this)),this.total=this.cartAssets.length):(this.cartAssets=[],this.total=0),this.loading=!1}.bind(this)).catch(function(e){throw this.loading=!1,this.$toasted.error(this.$t("message.cart-cart-access-failed"),o.TOASTED_DEFAULT_OPTIONS),e}.bind(this))},refresh:function(){this.fetchCart(),this.$toasted.clear()},removeFromCart:function(e){this.$nuxeo.operation("javascript.CART_RemoveFromCart").input("docs:"+e).params(this.getCartIdParams()).execute().then(function(){this.$toasted.success(this.$t("message.cart-removed-from-cart"),o.TOASTED_DEFAULT_OPTIONS),this.refresh(),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.cart-unable-to-remove"),o.TOASTED_DEFAULT_OPTIONS),e}))},getDefaultRenditionValue:function(e){var t,s=!0;return s&&e&&(t={label:"Original"}),t},getAdditionalFormats:function(e){var t=[];return e&&e.facets&&e.facets.indexOf("Picture")>-1?(t=e.properties["picture:views"].map((function(e){return{label:e.title}})),t.unshift({label:"Original"})):e&&e.type&&"File"===e.type?t=[{label:"Original"},{label:"PDF"}]:e&&e.facets&&e.facets.indexOf("Video")>-1?t=e.properties["vid:transcodedVideos"].map((function(e){return{label:e.name}})):t.push({label:"Original"}),t},downloadCart:function(){this.downloading=!0;var e=[];this.cartAssets.forEach(function(t){var s=t.rendition.label;e.push(s)}.bind(this));var t={renditionNames:e};this.$toasted.info(this.$t("message.cart-zipping"),o.TOASTED_PERSIST_OPTIONS),this.$nuxeo.operation("AMZD.CartDownload").input(this.cartAssets).params(t).execute().then(function(e){this.$toasted.clear(),this.$toasted.info(this.$t("message.cart-downloading"),o.TOASTED_PERSIST_OPTIONS),this.downloadCartFile(e)}.bind(this)).catch(function(e){throw this.dowloading=!1,this.$toasted.error(this.$t("message.cart-unable-to-download"),o.TOASTED_DEFAULT_OPTIONS),e}.bind(this))},downloadCartFile:function(e){var t=e.headers.get("Content-Disposition");if(t){var s=t.match(/filename[^;=\n]*=([^;\n]*''([^;\n]*)|[^;\n]*)/).filter((function(e){return!!e})),a=decodeURI(s[s.length-1]);e.blob().then(function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e,a);else{var t=document.createElement("a");t.style="display: none",t.download=a,t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}this.$toasted.clear(),this.downloading=!1,this.$toasted.success(this.$t("message.cart-cart-downloaded"),o.TOASTED_DEFAULT_OPTIONS)}.bind(this))}else this.$toasted.clear(),this.downloading=!1,this.$toasted.success(this.$t("message.cart-cart-nocontent"),o.TOASTED_DEFAULT_OPTIONS)},clearCart:function(){if(this.cartAssets&&this.cartAssets.length>0){var e=this.cartAssets.map((function(e){return e.uid})).join(",");this.$nuxeo.operation("javascript.CART_RemoveFromCart").input("docs:"+e).params(this.getCartIdParams()).execute().then(function(){this.$toasted.success(this.$t("message.cart-cart-cleared"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart"),this.refresh()}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.cart-unable-to-clear"),o.TOASTED_DEFAULT_OPTIONS),e}))}},getCartIdParams:function(){var e=this.$store.state.cartId,t={cartId:e};return t},renditionChanged:function(e,t){this.cartAssets[t].renditionSizeString=this.getRenditionSizeString(e),this.$set(this.cartAssets,t,this.cartAssets[t])},getRenditionSizeString:function(e){void 0!==Object(ae["a"])(e)&&null!==e&&void 0!==Object(ae["a"])(e.rendition)&&null!==e.rendition&&("Original"===e.rendition.label?t=e.properties["file:content"]?e.properties["file:content"].length:0:e&&e.facets&&e.facets.indexOf("Picture")>-1?t=e.properties["picture:views"][e.properties["picture:views"].findIndex((function(t){return t.title==e.rendition.label}))].content.length:e&&e.type&&"File"===e.type?t=e.properties["file:content"].length:e&&e.facets&&e.facets.indexOf("Video")>-1&&(t=e.properties["vid:transcodedVideos"][e.properties["vid:transcodedVideos"].findIndex((function(t){return t.name==e.rendition.label}))].content.length));var t=this.formatBytes(t,0);return t},formatBytes:function(e,t){if(0==e)return"0 Bytes";var s=1024,a="undefined"!=typeof t?t:2,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,i)).toFixed(a))+" "+r[i]},debug:function(e){return e}}},ne=oe,ce=(s("6eb1"),Object(l["a"])(ne,te,se,!1,null,null,null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"main-content launch-collection"},[s("Lightbox",{ref:"lightbox",attrs:{images:e.images}}),s("div",{staticClass:"search"},[s("aside",{staticClass:"search-filters",class:[{sticky:e.searchFilters.isSticky,stickybottom:e.searchFilters.isStickyBottom,visible:e.searchFilters.isVisibleOnMobile}]},[s("h2",{staticClass:"collections-insights"},[e._v(" "+e._s(e.$t("message.collections-results-facets"))+" ")]),s("div",{staticClass:"search-filters-group"},[s("div",{staticClass:"search-filters-group-content"},[s("TermCollection",{attrs:{data:e.collectionsList},on:{"selection-change":e.refresh}})],1)])]),s("div",{staticClass:"search-content"},[s("div",{staticClass:"search-results"},[s("header",{staticClass:"search-results-header"},[s("h2",{staticClass:"search-results-header-title"},[e._v(" "+e._s(e.$t("message.search-result-count"))+": "),s("strong",[e._v(e._s(e.total))])]),s("div",{staticClass:"search-results-header-parameters pagesize"},[s("label",{staticStyle:{width:"250px","text-align":"right"},attrs:{for:"pagesize"}},[e._v(" "+e._s(e.$t("message.search-results-per-page"))+" ")]),s("multiselect",{attrs:{options:e.sizes,"track-by":"value",label:"label","allow-empty":!1,showLabels:!1,placeholder:"Size"},model:{value:e.pagesize,callback:function(t){e.pagesize=t},expression:"pagesize"}})],1)]),s("div",{staticClass:"search-results-content"},[e.loading?s("div",{staticClass:"search-results-loader"},[s("spinner",{attrs:{color:"#ef6d22",size:100,depth:5}}),s("span",{staticClass:"search-results-loader-label"},[e._v(" "+e._s(e.$t("message.search-loading"))+" ")])],1):e._e(),s("b-modal",{ref:"selectionModal",attrs:{id:"modal1",title:"Bootstrap-Vue"}},[e._l(e.selects,(function(t,a){return s("div",{key:t.uid,staticClass:"select"},[s("img",{staticClass:"minithumb",attrs:{src:t.contextParameters.thumbnail.url},on:{click:function(t){return e.openGallery(a)}}}),s("div",[e._v(e._s(t.title))]),s("b-button",{on:{click:function(s){return e.unselect(t)}}},[e._v("Unselect")])],1)})),s("b-button",{on:{click:function(t){return e.addSelectionToCart()}}},[e._v("Add Selection to Cart")]),s("b-button",{on:{click:function(t){return e.clearSelects()}}},[e._v("Clear Selection")])],2),e.loading?e._e():s("b-row",e._l(e.results,(function(t,a){return s("b-col",{key:t.uid,attrs:{md:"6",lg:"4",xl:"3"}},[s("article",{staticClass:"product-item"},[s("div",{staticClass:"product-item-cover-wrapper"},[s("div",{staticClass:"product-item-cover",style:{backgroundImage:"url("+t.contextParameters.thumbnail.url+")"}}),s("div",{staticClass:"product-item-cover-actions"},[s("b-button",{staticClass:"btn-primary preview-btn",on:{click:function(t){return e.openGallery(a)}}},[s("i",{staticClass:"zmdi zmdi-zoom-in"}),e._v(" "+e._s(e.$t("message.search-action-details"))+" ")]),e.isInCart(t)?s("div",[s("b-button",{on:{click:function(s){return e.removeFromCart(t)}}},[e._v(" "+e._s(e.$t("message.search-action-remove-from-cart"))+" ")])],1):s("div",[-1!=t.contextParameters.permissions.indexOf("Download")?s("b-button",{staticClass:"btn-primary cart-btn",on:{click:function(s){return e.addToCart(t)}}},[s("i",{staticClass:"zmdi zmdi-shopping-cart-plus"}),e._v(" "+e._s(e.$t("message.search-action-add-to-cart"))+" ")]):e._e()],1)],1)]),s("header",{staticClass:"product-item-header",on:{click:function(t){return e.openGallery(a)}}},[s("h4",{staticClass:"product-item-title"},[e._v(" "+e._s(t.title)+" ")])])])])})),1)],1),s("footer",{staticClass:"search-results-footer"},[s("b-pagination",{attrs:{"total-rows":e.total,"per-page":e.pagesize.value},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])],1)},he=[],de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",e._l(e.buckets,(function(t){return s("div",{key:t.key,staticClass:"search-termfacet"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"bucket.checked"}],attrs:{type:"checkbox",id:t.key},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:[function(s){var a=t.checked,r=s.target,i=!!r.checked;if(Array.isArray(a)){var o=null,n=e._i(a,o);r.checked?n<0&&e.$set(t,"checked",a.concat([o])):n>-1&&e.$set(t,"checked",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(t,"checked",i)},e._notifyChange]}}),s("label",{attrs:{for:t.key}},[e._v(" "+e._s(t.label)+" ")])])})),0)},pe=[],ge={props:{data:{type:Array,value:[]}},data:function(){return{buckets:[],uid:""}},watch:{data:function(e){return this._updateBuckets(),e}},mounted:function(){var e=this;this.$nextTick((function(){e._updateBuckets()}))},methods:{_notifyChange:function(){var e=[],t="";this.buckets.forEach((function(s){s.checked&&(t+="".concat(s.key,","),e.push(s.key))})),this.$emit("selection-change",{values:e,uid:t.substr(0,t.length-1)})},_updateBuckets:function(){if(this.data.length){var e=[];this.$route.query.uid&&(e=this.$route.query.uid.split(","));var t=[],s="";this.data.forEach((function(a){var r=!1;a.properties["launchcollection:collection"]?s=a.properties["launchcollection:collection"].uid:a.properties["splashconfig:collection"]&&(s=a.properties["splashconfig:collection"].uid),e.length&&e.forEach((function(e){(a.properties["launchcollection:collection"]&&a.properties["launchcollection:collection"].uid===e||a.properties["splashconfig:collection"]&&a.properties["splashconfig:collection"].uid===e)&&(r=!0)})),a.label=a.title,t.push({checked:r,label:a.title,key:s})})),t.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),this.buckets=t}}}},fe=ge,me=(s("8cdb"),Object(l["a"])(fe,de,pe,!1,null,"4628e2bf",null)),ve=me.exports,_e={components:{Multiselect:w.a,TermCollection:ve,Lightbox:H,Spinner:X["a"]},data:function(){return{uid:"",collectionIds:[],fulltext:void 0,results:[],pagesize:{value:24,label:"24"},currentPage:1,total:0,sizes:[{value:12,label:"12"},{value:24,label:"24"},{value:48,label:"48"},{value:96,label:"96"}],facets:{},queryParams:{},selects:[],loading:!1,searchFilters:{isSticky:!1,isStickyBottom:!1,offsetTop:0,isVisibleOnMobile:!1},scrollTop:0,collectionsList:[]}},computed:{images:function(){var e=[];return this.results.forEach((function(t){e.push({thumb:t.contextParameters.thumbnail.url,src:t.contextParameters.thumbnail.url,caption:t.title,document:t})})),e}},created:function(){this.fetchAllCollections(),this.$route.query.uid&&(this.uid=this.$route.query.uid.split(","),console.log("ccreated---",this.uid),this.fetchDocumentsInCollections(this.uid)),window.addEventListener("scroll",this.handleScroll)},mounted:function(){},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{refresh:function(e){e.values&&(this.collectionIds=e.values,this.$router.push({path:"/collections",query:{uid:e.uid}}),this.fetchDocumentsInCollections(this.collectionIds))},_fulltext:function(){},fetchDocumentsFromCollection:function(e){this.loading=!0,this.$nuxeo.operation("Collection.GetDocumentsFromCollection").input(e).params({}).execute({schemas:"*",headers:{"fetch.document":"properties",properties:"product_search,picture,file",depth:"children","enrichers.document":"thumbnail,permissions,preview,contextParameters"}}).then(function(e){this.results.splice(0,this.results.length),e.entries.forEach(function(e){this.results.push(e)}.bind(this)),this.total=parseInt(e.totalSize),this.loading=!1}.bind(this)).catch((function(e){throw this.loading=!1,this.$toasted.error(this.$t("message.search-error"),o.TOASTED_DEFAULT_OPTIONS),e}))},fetchDocumentsInCollections:function(e){this.loading=!0,this.$nuxeo.operation("AMZD.GetDocumentsInCollections").input(e).params({currentPageIndex:0,pageSize:24,sortBy:"dc:title",sortOrder:"ASC"}).execute({schemas:"*",headers:{"fetch.document":"properties",properties:"product_search,picture,file",depth:"children","enrichers.document":"thumbnail,permissions,preview,contextParameters,relatedDevices"}}).then(function(e){this.results.splice(0,this.results.length),e.entries.forEach(function(e){this.results.push(e)}.bind(this)),this.total=parseInt(e.totalSize),this.loading=!1}.bind(this)).catch((function(e){throw this.loading=!1,this.$toasted.error(this.$t("message.search-error"),o.TOASTED_DEFAULT_OPTIONS),e}))},fetchAllCollections:function(){this.$nuxeo.request("search/pp/launch-splash-collection-search/execute",{schemas:"*",headers:{"fetch.document":"properties",properties:"collection,picture,quickLink,file,launchcollection",depth:"children"}}).get().then(function(e){this.collectionsList=e.entries,!this.uid&&this.collectionsList.length&&this.getCollectionsUid()}.bind(this)).catch((function(e){throw e}))},getCollectionsUid:function(){var e=[];this.collectionsList.forEach((function(t){t.properties["launchcollection:collection"]&&e.push(t.properties["launchcollection:collection"].uid),t.properties["splashconfig:collection"]&&e.push(t.properties["splashconfig:collection"].uid)})),this.fetchDocumentsInCollections(e)},openGallery:function(e){this.$refs.lightbox.showImage(e)},addToCart:function(e){this.$nuxeo.operation("javascript.CART_AddToCart").input(e.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.search-added-to-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.search-unable-to-add"),o.TOASTED_DEFAULT_OPTIONS),e}))},removeFromCart:function(e){this.$nuxeo.operation("javascript.CART_RemoveFromCart").input(e.uid).params({cartId:this.$store.state.cartId}).execute().then(function(){this.$toasted.success(this.$t("message.search-removed-from-cart"),o.TOASTED_DEFAULT_OPTIONS),this.$store.dispatch("updateCart")}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.search-unable-to-remove"),o.TOASTED_DEFAULT_OPTIONS),e}))},select:function(e){this.selects.indexOf(e)<0&&this.selects.push(e)},unselect:function(e){var t=this.selects.indexOf(e);t>=0&&this.selects.splice(t,1)},isSelect:function(e){return this.selects.indexOf(e)>=0},addSelectionToCart:function(){this.$nuxeo.operation("Collection.AddToCollection").input(this.selects).param("collection","/default-domain/UserWorkspaces/Guest/Shopping_Cart").execute().then(function(){this.$store.dispatch("updateCart"),this.clearSelects(),this.$refs.selectionModal.hide(),this.$toasted.success(this.$t("message.Selection Added to Cart"),o.TOASTED_DEFAULT_OPTIONS)}.bind(this)).catch((function(e){throw this.$toasted.error(this.$t("message.Could Not Add Selection to Cart"),o.TOASTED_DEFAULT_OPTIONS),e}))},clearSelects:function(){this.selects.splice(0,this.selects.length)},isInCart:function(e){var t=this.$store.getters.isInCart(e.uid);return t},hasFacet:function(e){return this.facets[e]&&this.facets[e].buckets&&this.facets[e].buckets.length>0},calculateSearchFiltersPosition:function(){var e=this.$el.querySelector(".search-filters");this.searchFilters.offsetTop=e.getBoundingClientRect().top},handleScroll:function(){if(this.scrollTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,this.scrollTop>this.searchFilters.offsetTop){var e=document.querySelector(".app-footer").getBoundingClientRect().top,t=this.$el.querySelector(".search-filters").clientHeight;e<t?(this.searchFilters.isStickyBottom=!0,this.searchFilters.isSticky=!1):(this.searchFilters.isSticky=!0,this.searchFilters.isStickyBottom=!1)}else this.searchFilters.isSticky=!1,this.searchFilters.isStickyBottom=!1},toggleFiltersOnMobile:function(){this.searchFilters.isVisibleOnMobile=!this.searchFilters.isVisibleOnMobile}}},ye=_e,be=(s("7d0c"),Object(l["a"])(ye,ue,he,!1,null,null,null)),Ce=be.exports,we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"detail-content"},[s("asset-preview",{ref:"preview",attrs:{asset:e.currentAsset}})],1)},Se=[],Pe={components:{AssetPreview:V},data:function(){return{currentAsset:null}},mounted:function(){void 0!=this.$route.query.asset&&this._fetchAsset(this.$route.query.asset)},methods:{_fetchAsset:function(e){var t=this;this.loading=!0,t.$nuxeo.repository("default",{schemas:"*",headers:{"enrichers.document":"thumbnail,preview,permissions,codename,relatedDevices","X-NXfetch.aggregate":"key","fetch.document":"properties","X-NXtranslate.directoryEntry":"label"}}).fetch(e).then((function(e){t.currentAsset=e})).catch((function(e){throw new Error(e)}))}}},xe=Pe,Oe=(s("eaa2"),Object(l["a"])(xe,we,Se,!1,null,"13b136dc",null)),ke=Oe.exports;a["default"].use(d["a"]);var Te=new d["a"]({routes:[{path:"/",name:"home",component:_},{path:"/search",name:"search",component:ee,props:function(e){return{year:e.query.year,productline:e.query.productline,productid:e.query.productid,query:e.query.q}}},{path:"/cart",name:"cart",component:le},{path:"/collections",name:"collections",component:Ce},{path:"/detail",name:"Detail",component:ke}]}),$e=Te,Fe=(s("7db0"),s("2f62")),Ae=s("fdca"),qe=s.n(Ae);a["default"].use(Fe["a"]);var Le=new Fe["a"].Store({state:{cartId:"",cart:[],cartSize:0},getters:{isInCart:function(e){return function(t){return!(!e.cart||!e.cart.length)&&e.cart.find((function(e){return e.uid===t}))}}},mutations:{setCartId:function(e,t){e.cartId=t},updateCart:function(e,t){e.cart=t,t&&t.length?e.cartSize=t.length:e.cartSize=0}},actions:{updateCart:function(e){var t=new qe.a({baseURL:"/nuxeo"});t.operation("javascript.CART_GetCartContents").params({cartId:e.state.cartId}).execute().then(function(t){e.commit("updateCart",t.entries)}.bind(this)).catch((function(e){throw e}))}}}),Ne=Le,Ee=s("caf9"),ze=s("5f5b"),Ie=s("0874"),De=(s("f9e3"),s("2dd8"),s("f907"),s("b3be"),s("d06d"),s("a65d")),Re=s.n(De),Ue=s("f029"),Be=s("ead5"),Je=s.n(Be),Me=(s("ecad"),s("a925")),je=s("e312");a["default"].config.productionTip=!1,a["default"].use(ze["a"]),a["default"].use(Ee["a"]),a["default"].use(Re.a),a["default"].use(Ue["a"]),a["default"].use(Je.a),a["default"].use(Me["a"]),a["default"].component("icon",Ie["a"]);var Ve={en:je},Ke=new Me["a"]({locale:(navigator.language||navigator.userLanguage).substring(0,2),messages:Ve}),Ge=s("fdca");Object.defineProperty(a["default"].prototype,"$nuxeo",{value:new Ge({baseURL:"/nuxeo"})}),new a["default"]({i18n:Ke,router:$e,store:Ne,render:function(e){return e(h)}}).$mount("#app")},"59b1":function(e,t,s){e.exports=s.p+"img/group.9903e992.svg"},"5c0b":function(e,t,s){"use strict";var a=s("e884"),r=s.n(a);r.a},"5fe0":function(e,t,s){},"6eb1":function(e,t,s){"use strict";var a=s("7f32"),r=s.n(a);r.a},"7d0c":function(e,t,s){"use strict";var a=s("a5a7"),r=s.n(a);r.a},"7f32":function(e,t,s){},"8cdb":function(e,t,s){"use strict";var a=s("e396"),r=s.n(a);r.a},a5a7:function(e,t,s){},b3be:function(e,t,s){},bae6:function(e,t,s){},d36f:function(e,t,s){"use strict";var a=s("bae6"),r=s.n(a);r.a},de57:function(e,t,s){},dfa8:function(e,t,s){},e312:function(e){e.exports=JSON.parse('{"message":{"assetPreview-":"Labels for AssetPreview.vue","assetPreview-description":"Description","assetPreview-asset-category":"Asset Category","assetPreview-asset-type":"Asset Type","assetPreview-product-line":"Product Line","assetPreview-product":"Device","assetPreview-usage":"Usage","assetPreview-year":"Year","assetPreview-remove-from-cart":"Remove From Cart","assetPreview-add-to-cart":"Add to Cart","assetPreview-added-to-cart":"Added to Cart","assetPreview-unable-to-add":"Unable to add to Cart","assetPreview-removed-from-cart":"Removed From Cart","assetPreview-unable-to-remove":"Unable to Remove From Cart","assetPreview-asset-original-creator-role":"Original Creator Role","assetPreview-asset-original-creator-name":"Original Creator Name","assetPreview-asset-language":"Content Language","assetPreview-asset-is-retouched-version":"Is Retouched Version","assetPreview-asset-owner":"Owner or Source","assetPreview-asset-rights-type":"Rights Type","assetPreview-asset-channel":"Marketing Placement","assetPreview-asset-subchannel":"Approved SubPlacements","assetPreview-asset-geography":"Approved Locations","assetPreview-asset-approved-language":"Approved Language","assetPreview-asset-expire":"Expiration Date","assetPreview-asset-restriction":"Restrictions","assetPreview-asset-workspace":"Workspace Location","assetPreview-asset-product":"Related Devices","assetPreview-asset-keywords":"Keywords","lightbox-":"Labels for Lightbox.vue","lightbox-close-esc":"Close (ESC)","lightbox-previous":"Previous","lightbox-next":"Next","masterRequest-":"Labels for MasterRequest.vue","masterRequest-request-access":"Request Access to Master...","masterRequest-request-access-title":"Request Master Access","masterRequest-ok":"Send","masterRequest-cancel":"Cancel","masterRequest-request-pending":"Master Access Pending...","masterRequest-request-granted":"Master Access Granted","masterRequest-permissions-missing":"Unable to fetch asset permissions","masterRequest-request-sent":"Access Request Sent","masterRequest-request-failed":"Unable to Complete Access Request","masterRequest-reason-directive":"Please provide the reason for master access","masterRequest-validation-failed":"Please enter a reason","cart-":"Labels for Cart.vue","cart-title":"Cart","cart-loading":"Loading, please wait...","cart-is-empty":"Your cart is empty.","cart-clear":"Clear Cart","cart-download":"Download All","cart-column-preview":"Preview","cart-column-title":"Filename","cart-column-rendition":"Rendition","cart-column-size":"Size","cart-cart-access-failed":"Unable to access Cart","cart-removed-from-cart":"Removed from Cart","cart-unable-to-remove":"Unable to remove from Cart","cart-zipping":"Zipping cart, please wait...","cart-downloading":"Downloading cart, please wait...","cart-unable-to-download":"Unable to download Cart","cart-cart-downloaded":"Cart Downloaded","cart-cart-nocontent":"No content available","cart-cart-cleared":"Cart cleared","cart-unable-to-clear":"Unable to clear Cart","home-":"Labels for Home.vue","home-banner-title":"Device Hub","home-banner-description":"Welcome to the Amazon Device Hub.","home-banner-cta":"Browse Hub","home-featured-products":"Featured Devices","home-brands":"Brands","home-product-lines":"Product Lines","home-all-products":"All Devices","home-category-sinks":"Bathroom","home-category-interior":"Interior","home-category-exterior":"Exterior","home-category-kitchen":"Kitchen","home-products-count":"devices","home-actions-details":"Details","home-actions-add-to-cart":"Add to Cart","search-":"Labels for Search.vue","search-filter-state":"State","search-filter-type":"Type","search-filter-priority":"Priority","search-product-id-placeholder":"ASIN","search-filter-retail-asset-types":"Retail Asset Type","search-filter-retail-asset-use":"Retail Asset Use","search-filter-language":"Content Language","search-filter-is-retouched-version":"Is Retouched Version","search-filter-rights-type":"Rights Type","search-filter-channel":"Marketing Placement","search-filter-sub-channel":"Approved SubPlacements","search-filter-location":"Approved Location","search-filter-usage-language":"Approved Languages","search-filter-workspace":"Relations Workspace Location","search-filter-agencies":"Agencies","search-filter-retailers":"Retailers","search-filter-vendors":"Vendors","search-filter-role":"Creator Role","search-filter-format":"Format","search-filter-color-space":"Color Profile","search-filter-rights":"Digital Rights","search-filter-product-brand":"Product Brand","search-filter-product-line":"Product Line","search-filter-product-year":"Product Year","search-filter-product-generation":"Product Generation","search-filter-product-version":"Product Version","search-filter-product-category":"Product Category","search-filter-product-type":"Product Type","search-filter-product-size":"Product Size","search-filter-product-color":"Product Color","search-filter-product-launched-countries":"Product Launched Countries","search-filter-market-name":"Marketing Name","search-fulltext-placeholder":"Search the Hub","search-devicecode-placeholder":"Search for Device Name","search-keywords-placeholder":"Search for Keyword","search-creator-placeholder":"Search for Amazon Original Creator","search-owner-placeholder":"Search for Owner","search-action-search":"Search","search-result-count":"Total Results","search-results-per-page":"Results per Page","search-loading":"Search in progress, please wait...","search-action-details":"Details","search-action-add-to-cart":"Add to Cart","search-action-remove-from-cart":"Remove from Cart","search-filters":"Filters","search-results-facets":"Filters","search-error":"An Error Occured","search-added-to-cart":"Added to Cart","search-unable-to-add":"Unable to add to Cart","search-removed-from-cart":"Removed From Cart","search-unable-to-remove":"Unable to Remove From Cart","app-":"Labels for App.vue","app-home":"Home","app-search":"Search","app-login":"Login","app-logout":"Logout","app-collection":"Launch Collections","app-copyright":"Copyright © Amazon Devices Group. All rights reserved.","collections-":"Labels for Collections.vue","collections-results-facets":"Launch Collections"}}')},e396:function(e,t,s){},e87a:function(e,t,s){},e884:function(e,t,s){},eaa2:function(e,t,s){"use strict";var a=s("5fe0"),r=s.n(a);r.a}});
//# sourceMappingURL=app.9dd6f3b9.js.map