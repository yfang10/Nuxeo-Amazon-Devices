<link rel="import" href="../../elements/nuxeo-se-collapse.html">

<!--
`nuxeo-threedcreativeasset-edit-layout`
@group Nuxeo UI
@element nuxeo-threedcreativeasset-edit-layout
-->
<dom-module id="nuxeo-threedcreativeasset-edit-layout">
  <template>
    <style>
      *[role=widget] {
        padding: 5px;
      }
    </style>
    <!-- <nuxeo-input value="{{document.properties.dc:title}}" label="Title" type="text" required="true" role="widget"></nuxeo-input>

    <nuxeo-input value="{{document.properties.dc:description}}" label="Description" type="text" role="widget"></nuxeo-input>

    <nuxeo-directory-suggestion value="{{document.properties.amz:asset_category}}" label="Asset Category" directory-name="AssetCategory" role="widget" min-chars="0"></nuxeo-directory-suggestion>

    <template is="dom-if" if="{{document.properties.amz:asset_category}}">
      <nuxeo-directory-suggestion id="assetType" value="{{document.properties.amz:asset_type}}" label="Asset Type" directory-name="{{category}}" role="widget" min-chars="0"></nuxeo-directory-suggestion>
    </template>

    <amzd-amazon-3d-edit-layout  role="widget" document="{{document}}"></amzd-amazon-3d-edit-layout>

    <pclm-usage-edit-layout document="{{document}}"></pclm-usage-edit-layout>

    <pclm-relations-edit-layout document="{{document}}"></pclm-relations-edit-layout>

    <amzd-metadata-schema-edit-layout document="[[document]]"></amzd-metadata-schema-edit-layout> 
   
     <amzd-approval-schema-edit-layout role="widget" document="{{document}}"></amzd-approval-schema-edit-layout>-->
    
    <amzd-metadata-schema-edit-layout role="widget" document="{{document}}"></amzd-metadata-schema-edit-layout>
  </template>

  <script>
  Polymer({
    is: 'nuxeo-threedcreativeasset-edit-layout',
    behaviors: [Nuxeo.LayoutBehavior],
    properties: {
      document: {
        type: Object,
      },
      category: {
        type: String,
        computed: '_getAssetType(document.properties.amz:asset_category)',
      }
    },
    _getAssetType:function(assetType) {
      if(assetType && assetType.id !== undefined) {
        return assetType.id;
      }
      else {
        return assetType;
      }
    },
    _clearAssetType: function(event){
      // clear the value of asset_type selection
      this.$$('#assetType').value = "";
    } 
  });
  </script>
</dom-module>
