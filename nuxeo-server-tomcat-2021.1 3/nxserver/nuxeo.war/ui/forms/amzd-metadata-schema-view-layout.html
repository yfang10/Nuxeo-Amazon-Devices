<!--
`amzd-metadata-schema-view-layout`
@group Nuxeo UI
@element amzd-metadata-schema-view-layout
-->
<link rel="import" href="../elements/amzd-keyword-suggestion.html">
<dom-module id="amzd-metadata-schema-view-layout">
    <template>
      <style>
        *[role=widget] div{
          display: flex;
          cursor: pointer;
          min-height: 31px;
          position: relative;
          opacity: var(--nuxeo-label_-_opacity);
        }
        *[role=widget] label{
          opacity: var(--nuxeo-label_-_opacity);
        }
        *[role=widget-keywords] label{
          display: block!important;
          opacity: var(--nuxeo-label_-_opacity);
          height: 20px!important;
        }
      </style>
      <nuxeo-connection id="nxcon" user="{{user}}"></nuxeo-connection>
      <nuxeo-resource id="user" path="/user"></nuxeo-resource>
  
  
      <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="IDENTIFIERS" headingstyle="[[headingstyle]]"
      opened="{{opened}}">
        <div role="widget">
          <label>Codename</label>
          <div>[[document.properties.amz:codename]]</div>
        </div>
  
        <div role="widget">
          <label>Marketing Streetname</label>
          <div>[[document.properties.amz:marketingStreetname]]</div>
        </div>
  
        <div role="widget">
          <label>Title</label>
          <div>[[document.properties.dc:title]]</div>
        </div>
  
        <div role="widget">
          <label>Description</label>
          <div>[[document.properties.dc:description]]</div>
        </div>
  
        <div role="widget">
          <label>ASIN</label>
          <div>[[document.properties.amz:asin]]</div>
        </div>
  
        <div role="widget">
          <label>Project Number</label>
          <div>[[document.properties.amz:projectNumber]]</div>
        </div>
  
        <div role="widget-keywords">
          <label>[[i18n('documentPage.keywords')]]</label>
              <amzd-keyword-suggestion document="[[document]]" allow-new-keywords>
              </amzd-keyword-suggestion>
        </div>
      </nuxeo-se-collapse>
  
      <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="TYPES" headingstyle="[[headingstyle]]"
      opened="{{opened}}">
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.product_search:product_type]]" label="Product Type" readonly="true" directory-name="Product_Type" role="widget"></nuxeo-directory-suggestion>
    </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="{{document.properties.product_search:pl}}" label="Product Line" readonly="true" directory-name="Product_Line" role="widget" multiple="true" min-chars="0"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:asset_type]]" label="Asset Type" readonly="true"
            directory-name="Asset_Type" role="widget"></nuxeo-directory-suggestion>
        </div>

        <div role="widget">
          <nuxeo-directory-suggestion value="{{document.properties.amz:retailAssetTypes}}" min-chars="0" label="Retail Asset Type"  readonly="true" directory-name="Retail_Asset_Type" role="widget" multiple="true"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:placement]]" label="Placement" readonly="true"
          directory-name="Placement" role="widget"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:standardAngles]]" label="Standard Angles" readonly="true"
          directory-name="Standard_Angles" role="widget"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <label>Format</label>
          <div>[[document.properties.dc:format]]</div>
        </div>
      </nuxeo-se-collapse>
       <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="BRAND AND CAMPAIGNS" headingstyle="[[headingstyle]]"
        opened$="[[_false]]">
        <div role="widget">
          <nuxeo-directory-suggestion value="{{document.properties.product_search:brand}}" readonly="true" label="Brand" directory-name="Brand" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:associatedEvent]]" label="Associated Event" readonly="true"
          directory-name="Associated_Event" role="widget"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion readonly="true" value="{{document.properties.amz:launchcollection}}" label="Launch Collections" directory-name="Launch_Collections" role="widget" min-chars="0"></nuxeo-directory-suggestion>
          <!-- <label>Launch Collections</label>
          <div>[[document.properties.launchcollection:collection]]</div> -->
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:activePeriod]]" label="Active Period" readonly="true"
          directory-name="Active_Period" role="widget"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.approval:approved]]" label="Approved" readonly="true" directory-name="Approved" role="widget"></nuxeo-directory-suggestion>
        
        </div>
  
        <div role="widget">
          <label>Approval Date</label>
          <div>[[formatDate(document.properties.approval:approved_date)]]</div>
        </div>
  
        <div role="widget">
          <label>Announce Date</label>
          <div>[[formatDate(document.properties.approval:announce_date)]]</div>
        </div>
  
        <div role="widget">
          <label>Street Date</label>
          <div>[[formatDate(document.properties.approval:street_date)]]</div>
        </div>
  
        <div role="widget">
          <label>Expiration Date</label>
          <div>[[formatDate(document.properties.dc:expired)]]</div>
        </div>
  
      </nuxeo-se-collapse>
    <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="USAGE RIGHTS" headingstyle="[[headingstyle]]"
        opened$="[[_false]]">
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:Ownership]]"
            label="Ownership" readonly="true" directory-name="Ownership" role="widget">
          </nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:status]]"
          label="Status" readonly="true" directory-name="Status" role="widget">
        </nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:is_retouched_version]]"
            label="Is Retouched Version" readonly="true" directory-name="Is_Retouched_Version" role="widget">
          </nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <label>Usage Rights Statement</label>
          <div>[[document.properties.usage:usageRightsStatement]]</div>
        </nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <label>Talent</label>
          <div>[[document.properties.usage:talent]]</div>
        </div>

        <div>
          <nuxeo-directory-suggestion value="{{document.properties.usage:rights_type}}" label="Rights Type" readonly="true" directory-name="Rights_Type" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="{{document.properties.usage:restrictions}}" readonly="true"  label="Restrictions" directory-name="Restrictions" role="widget" min-chars="0" ></nuxeo-directory-suggestion>
          <!-- <label>Restrictions</label>
          <div>[[document.properties.usage:restrictions]]</div> -->
        </div>
  
        <div role="widget">
          <label>Producer</label>
          <div>[[document.properties.usage:producer]]</div>
        </div>
  
        <div role="widget">
          <label>Project Manager</label>
          <div>[[document.properties.usage:projectManager]]</div>
        </div>
  
        <div role="widget">
          <label>Creators</label>
          <div>[[document.properties.amz:original_creator_name]]
          </div>
        </div>
  
        <div role="widget">
          <label>Access Permissions</label>
          <div>[[document.properties.usage:accessPermissions.id]]</div>
        </div>
  
        <div role="widget">
          <label>Release Year</label>
          <div>[[document.properties.usage:releaseYears]]</div>
        </div>
  
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:retailAssetUse]]" label="Retail Asset Use"
            readonly="true" directory-name="Retail_Asset_Use" role="widget" readonly="true" >
          </nuxeo-directory-suggestion>
          </nuxeo-directory-suggestion>
        </div>
  
        <div role="widget">
          <label>Notes </label>
          <div>[[document.properties.amz:notes]]</div>
        </div>
      </nuxeo-se-collapse>
     <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="RELATED ASSETS" 
        headingstyle="[[headingstyle]]" opened$="[[_false]]">
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.relations:product_devices]]" label="Related Devices and Accessories"
          readonly="true" directory-name="Related_Devices_and_Accessories" role="widget" multiple="true">
          </nuxeo-directory-suggestion>
        </div>

        <div role="widget">
          <amzd-document-suggestion role="widget" min-chars="0" value="{{document.properties.relations:product}}" label="Related Devices" multiple="true" readonly="true" page-provider="product-suggestions"></amzd-document-suggestion>
        </div>
  
        <div role="widget">
          <nuxeo-document-suggestion role="widget" page-provider="referenceItem-suggestions" min-chars="0"
            value="{{document.properties.relations:referenceItem}}" label="
  Related Content" readonly="true" multiple="true"></nuxeo-document-suggestion>
        </div> 
  
        <div role="widget">
          <nuxeo-directory-suggestion readonly="true" value="{{document.properties.approval:distribution}}" label="Distribution" directory-name="Distribution" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
  
      </nuxeo-se-collapse>
       <nuxeo-se-collapse collapsestyle="[[collapsestyle]]" heading="REGION" 
        headingstyle="[[headingstyle]]" opened$="[[_false]]">
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.usage:geography]]" label="Approved Locations"
            readonly="true" directory-name="Approved_Locations" multiple="true" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.usage:language]]" label="Approved Languages"
            readonly="true" directory-name="Approved_Languages"multiple="true" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
        <div role="widget">
          <nuxeo-directory-suggestion value="[[document.properties.amz:language]]" label="Content Language"
            readonly="true" directory-name="Content_Language" multiple="true" role="widget" min-chars="0"></nuxeo-directory-suggestion>
        </div>
      </nuxeo-se-collapse>
  <!-- 
      <nuxeo-se-collapse collapsestyle="[[collapsestyle]]"
                         heading="[[i18n('label.collapseheaders.approval')]]"
                         headingstyle="[[headingstyle]]"
                         opened$="[[_false]]"
                         >
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_copy]]" label="Need Copy Appproval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
  
        <nuxeo-user-suggestion hidden$="{{!isneed_copy}}"role="widget" value="{{document.properties.approval:copy_approvers}}" label="
                                                                                                                                      Copy Approvers" search-type="USER_GROUP_TYPE" min-chars="0" multiple="true" readonly="true"></nuxeo-user-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_requester]]" label="Need Requester Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_requester}}" role="widget" value="{{document.properties.approval:requester_approvers}}" label="
                                                                                                                                                 Content Requesters" search-type="USER_GROUP_TYPE" min-chars="0" multiple="true" readonly="true"></nuxeo-user-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_utterance]]" label="Need Utterance Approval"  readonly="true" role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_utterance}}" role="widget" value="{{document.properties.approval:utterance_approvers}}" label="
                                                                                                                                                 Utterance Approvers" min-chars="0" search-type="USER_GROUP_TYPE" multiple="true" readonly="true"></nuxeo-user-suggestion>
  
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_legal]]" label="Need Legal Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_legal}}" role="widget" value="{{document.properties.approval:legal_approvers}}" label="
                                                                                                                                         Legal Approvers" search-type="USER_GROUP_TYPE" min-chars="0" readonly="true" multiple="true"></nuxeo-user-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_tm]]" label="Need Trademark Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_tm}}" role="widget" value="{{document.properties.approval:tm_approvers}}" label="
                                                                                                                                   Trademark Approvers" min-chars="0" search-type="USER_GROUP_TYPE" multiple="true" readonly="true"></nuxeo-user-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_accessibility]]" label="Need Accessibility Standards Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_accessibility}}" role="widget" value="{{document.properties.approval:accessibility_approvers}}" label="
                                                                                                                                                       Accessibility Standards Approvers" min-chars="0" search-type="USER_GROUP_TYPE" readonly="true" multiple="true"></nuxeo-user-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:need_retailer]]" label="Need Retailer Approval"  readonly="true" role="widget"></nuxeo-directory-suggestion>
  
        <nuxeo-user-suggestion hidden$="{{!isneed_retailer}}" role="widget" value="{{document.properties.approval:retailer_approvers}}" label="
                                                                                                                                               Retail Approvers" min-chars="0" search-type="USER_GROUP_TYPE" multiple="true" readonly="true"></nuxeo-user-suggestion>
      </nuxeo-se-collapse>
  
      <nuxeo-se-collapse collapsestyle="[[collapsestyle]]"
                         heading="[[i18n('label.collapseheaders.distribution')]]"
                         headingstyle="[[headingstyle]]"
                         opened$="[[_false]]"
                         >
        <nuxeo-directory-suggestion value="[[document.properties.approval:distribute_ADH]]" label="Distribute Content to Amazon Device Hub"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:distribute_selects]]" label="Distribute Selects for CXLab Use"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
  
        <nuxeo-directory-suggestion value="[[document.properties.approval:distribute_CXLabs]]" label="Distribute Final Content for CXLab Use"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
      </nuxeo-se-collapse> -->
  
  
         <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_copy}}" value="[[document.properties.approval:has_copy]]" label="Has Copy Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_requester}}" value="[[document.properties.approval:has_requester]]" label="Has Requester Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_utterance}}" value="[[document.properties.approval:has_utterance]]" label="Has Utterance Approval" readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_legal}}" value="[[document.properties.approval:has_legal]]" label="Has Legal Approval" readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_tm}}" value="[[document.properties.approval:has_tm]]" label="Has Trademark Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_accessibility}}" value="[[document.properties.approval:has_accessibility]]" label="Has Accessibility Standards Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
          </template>
        </nuxeo-filter>
  
  
        <nuxeo-filter document="[[document]]"
                      user="[[user]]" group="administrators,Librarian">
          <template>
            <nuxeo-directory-suggestion hidden$="{{!isneed_retailer}}" value="[[document.properties.approval:has_retailer]]" label="Has Retailer Approval"  readonly="true"  role="widget"></nuxeo-directory-suggestion>
  
          </template>
        </nuxeo-filter> 
  
    </template>
  
  
    <script>
    Polymer({
      is: 'amzd-metadata-schema-view-layout',
      behaviors: [Nuxeo.LayoutBehavior],
      properties: {
  
        collapsestyle: {
          type: String,
          value: "border:0px solid #f5f5f5;margin-left:0em;"
        },
        headingstyle: {
          type: String,
          value: "font-size:1rem;font-weight:700;text-transform:uppercase;"
        },
        _false: {
          type: Boolean,
          value: false
        },
        _true: {
          type: Boolean,
          value: true
        },
        document: {
          type: Object
        },
        isneed_copy:{
          type: String,
          computed:'_isneedcopy(document.properties.approval:need_copy)'
        },
        isneed_requester:{
          type:String,
          computed:'_isneedrequester(document.properties.approval:need_requester)'
        },
  
        isneed_utterance:{
          type: String,
  
          computed:'_isneedutterance(document.properties.approval:need_utterance)'
        },
        isneed_legal:{
          type: String,
          computed:'_isneedlegal(document.properties.approval:need_legal)'
        },
        isneed_tm:{
          type: String,
  
          computed:'_isneedtm(document.properties.approval:need_tm)'
        },
        isneed_accessibility:{
          type: String,
  
          computed:'_isneedaccessibility(document.properties.approval:need_accessibility)'
        },
        isneed_retailer:{
          type: String,
  
          computed:'_isneedretailer(document.properties.approval:need_retailer)'
        },
        collapsestyle: {
          type: String,
          value: "border:0px solid #f5f5f5;margin-left:0em;"
        },
        opened: {
          type: Boolean,
          value: true,
          reflectToAttribute: true
        }
  
      },
      _isneedcopy: function(a) {
  
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_copy"];
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
  
      _isneedrequester: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_requester"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
      _isneedutterance: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_utterance"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
      _isneedlegal: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_legal"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
      _isneedtm: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_tm"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
      _isneedaccessibility: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_accessibility"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      },
  
      _isneedretailer: function(a) {
        if(a === null || a === undefined)
          return null;
        a=this.document.properties["approval:need_retailer"];
  
        if(a==='No'||a===null)
          return null;
        if(a.id==='No'||a.id===null)
          return null;
        if(a.id==='Yes')
          return a;
        if(a==='Yes') 
          return a;
  
      }
    });
  
    </script>
  </dom-module>
  