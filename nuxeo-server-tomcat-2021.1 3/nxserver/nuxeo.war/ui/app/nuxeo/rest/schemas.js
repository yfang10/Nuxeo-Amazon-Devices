import{Request}from"./request";const PATH="/config/schemas/";class Schemas extends Request{constructor(e){super(e,PATH)}fetch(e){const t=[];return this.execute().then((s=>{for(const c of s){const s=c["@prefix"]||c.name;-1!==e.indexOf(s)&&(t[s]={name:c.name})}const c=e.map((e=>this._fetchFieldsBySchema(t[e].name)));return Promise.all(c).then((e=>{for(const s of e){const e=s["@prefix"]||s.name;t[e].fields=s.fields}return t}))}))}_fetchFieldsBySchema(e){return this.execute("get",`${PATH}/${e}`,{"fetch.schema":"fields"})}}export{Schemas};