import{WIDGETS,WIDGET_TYPES}from"./widgets";const CUSTOM_FIELDS={"dc:created":{widget:{readOnly:!0}},"dc:modified":{widget:{readOnly:!0}},"dc:creator":{widget:{readOnly:!0}},"dc:lastContributor":{widget:{readOnly:!0}},"dc:contributors":{widget:{readOnly:!1}},currentLifeCycleState:{widget:{readOnly:!0},field:"state"},type:{widget:{readOnly:!0},field:"type"},versionLabel:{widget:{readOnly:!0},field:"versionLabel"},"dc:nature":{properties:{dbl10n:!1,localize:!0}},"thumb:thumbnail":{widget:{readOnly:!0,type:"image"}}};class Column{constructor(e,t,i,d=Handsontable.renderers.TextRenderer){Object.assign(this,{connection:e,def:t,widget:i,defaultRenderer:d}),"data"===this.widget.field&&(this.widget.field=this.def.properties.any.sortPropertyName),WIDGETS[this.widget.name]&&Object.assign(this.widget,WIDGETS[i.name]);const r=this.widget.field;if(CUSTOM_FIELDS[r]&&CUSTOM_FIELDS[r].widget&&Object.assign(this.widget,CUSTOM_FIELDS[r].widget),CUSTOM_FIELDS[r]&&CUSTOM_FIELDS[r].properties&&Object.assign(this.widget.properties,CUSTOM_FIELDS[r].properties),WIDGET_TYPES[this.widget.type]){const e=this.widget.type;delete this.widget.type,Object.assign(this.widget,WIDGET_TYPES[e])}Object.assign(this,this.widget),this.renderer?this.renderer=this.renderer.bind(this):this.renderer=d}get data(){return this.field?CUSTOM_FIELDS[this.field]&&CUSTOM_FIELDS[this.field].field?CUSTOM_FIELDS[this.field].field:`properties.${this.field}`:null}get header(){let e=this.def.properties.any.label||this.field;return this.def.properties.any.useFirstWidgetLabelAsColumnHeader&&(e=this.widget.label||this.widget.labels.any),e}get hasSupportedWidgetType(){return!!WIDGET_TYPES[this.widget.type]}}export{Column};